{"componentChunkName":"component---src-templates-blog-post-js","path":"/how-to-find-empty-array-in-hasura/","webpackCompilationHash":"7f36d7e008cc65ae7ac4","result":{"data":{"site":{"siteMetadata":{"title":"Pedroam | Javascript Developer","author":"Pedram Marandi"}},"markdownRemark":{"id":"38b1e627-0b94-5b2f-bf8e-41e1e3d53304","html":"<p>Hasura filters are really comprehensive. However when it comes to Postgres types like arrays, it gets a little bit hard to query data. In this post I want to show you how to query for empty arrays using Hasura.io.</p>\n<!-- end -->\n<h2>Data Examples</h2>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> posts <span class=\"token punctuation\">(</span>\n    title            <span class=\"token keyword\">text</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">view</span>             <span class=\"token keyword\">integer</span><span class=\"token punctuation\">,</span>\n    tags             <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So we have a table called <code class=\"language-text\">posts</code> which has the column <code class=\"language-text\">tags</code> representing an array of strings.</p>\n<h2>Find all posts having empty tags</h2>\n<p>In Postgres, arrays are being saved in this format <code class=\"language-text\">{tag1, tag2}</code>. So an empty array will be stored as <code class=\"language-text\">{}</code> in the database. So we can use <code class=\"language-text\">_eq</code> and <code class=\"language-text\">{}</code> together like the below example:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  posts<span class=\"token punctuation\">(</span><span class=\"token attr-name\">where</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">_eq</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{}\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    title\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","excerpt":"Hasura filters are really comprehensive. However when it comes to Postgres types like arrays, it gets a little bit hard to query data. In this post I want to show you how to query for empty arrays using Hasura.io.","fields":{"slug":"/how-to-find-empty-array-in-hasura/"},"frontmatter":{"title":"How to query for empty arrays using Hasura.","date":"September 01, 2018","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/webp;base64,UklGRkgCAABXRUJQVlA4WAoAAAAQAAAAEwAAEAAAQUxQSBoBAAABkHNb27G5uq+x2dm2bc+0tm27sidJZdtJZZS2bdt6dcWJiAnAn1XhPZiE/1RH2DuyFCp/UQNUANtv31kLXQ3oAlBFWjB8Spe8V9gMx2NTv2nXvn5fWNTxiQI/WG3kHvx+jHxTiX2Uvj2xXkBpnQpgf4WCHIcTFJVLQ1fJC4AKtpEngHX8xpOFishdUAXOUmC+2UMKPOXymjynpgKLdxT56DpFmbeOU+RjUyCdosQ7cc8ocHsbv/G1iR/28LtIpt+hoHwpuEVyKsPilEhK43ZvSDJ2lqWXbxg05hx+ceoItO/x/nlWLNwNLQ3YTF1PbNsCvFypgit7ZxOhAhVAEzU9CdP0BJzuTetCBVBRUUFU7czSZKiqo7AXvwNWUDggCAEAABAGAJ0BKhQAEQA+0VykTqglIyIoCqkAGglsAJ0yhIAa1murgpOSkjktClbpxkM9L0kwBa3AUABHAADKy1zRj+Ns+0ZRwIpOPR+52XXllNZeh4eNNfVX8u5lC1PnenQg2Jr2KAxSm9o8a+t2nr5eP5urEwxr3SrfWMVXQhRwx2/v5BFUK31Ua5cUCUJzIRDQL4H+BhXvSnEhFCc4RK65Gf7OJFPXqYyFL7jTrtvjPdS8LUgGKGCb7TvYxI0PrSEgbyUkLPtBjIcyAucVXyvoNzMv1fB7+f28ehyXz5vfyI8v68a2UVyn18wAOY1BDoPcX99sVY+geI/r7CTEf1TwKQKpb59XYC7AAA==","aspectRatio":3.380952380952381,"src":"/static/63c7f20b955e58d5c0078c5f2d18587c/3d66b/featured.webp","srcSet":"/static/63c7f20b955e58d5c0078c5f2d18587c/bcf07/featured.webp 213w,\n/static/63c7f20b955e58d5c0078c5f2d18587c/d411a/featured.webp 425w,\n/static/63c7f20b955e58d5c0078c5f2d18587c/3d66b/featured.webp 800w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/how-to-find-empty-array-in-hasura/","previous":null,"next":null}}}